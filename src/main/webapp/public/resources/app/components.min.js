"use strict";app.factory("baseController",function(){return{mode:"LIST_MODE",baseURL:"",entity:{nome:"pedro"},selectedId:null,itens:[],getURL:function(){return this.baseURL},list:function(){this.itens=[]},select:function(a){this.selectedId=a},hasSelected:function(){return this.selectedId?!0:!1},loadDependencies:function(){},reset:function(){},baseReset:function(){this.entity={},this.reset()},save:function(){$http.post(this.baseURL,this.entity).success(function(){console.log("fw.save.success"),this.cancel()})},savePlus:function(){$http.post(this.baseURL,this.entity).success(function(){console.log("fw.save.success"),this.baseReset()})},cancel:function(){this.mode="LIST_MODE"}}}),app.service("baseInput",[function(){var baseInput={};return baseInput.base=function(a,b){a.id=b.id,a.label=i18n(b.label),a.hint=i18n(b.hint),a.hasLabel=function(){return!$.isEmptyObject(b.label)}},baseInput.autofocus=function(a,b,c){if(!$.isEmptyObject(a)&&a){var d=$(b).contents()[0];d=$(d).find(c)[0],$(d).attr("autofocus","true")}},baseInput.maxlength=function(a,b,c){if(!$.isEmptyObject(a)){var d=$(b).contents()[0];d=$(d).find(c)[0],$(d).attr("maxlength",a)}},baseInput.labelHint=function(a,b){!$.isEmptyObject(a)},baseInput.mask=function(scope,mask){scope.onChangeDirective=function(){$.isEmptyObject(mask)||(scope.ngModel=eval(mask+"('"+scope.ngModel+"')")),scope.ngChange()}},baseInput}]),app.directive("inputLabel",["$parse","$http",function(a,b){return{restrict:"E",transclude:!0,scope:{label:"=label"},require:"?label",templateUrl:"public/resources/components/input-label.html",link:function(a,b,c){a.forId=c.forId,a.label=i18n(c.label),a.required=c.ngRequired}}}]),app.directive("inputText",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngChange:"&",ngBlur:"&"},require:"?ngModel",templateUrl:"public/resources/components/input-text.html",link:function(a,b,d,e){c.base(a,d),c.labelHint(d.labelHint,b),c.autofocus(d.autofocus,b,"input"),c.maxlength(d.maxlength,b,"input"),c.mask(a,d.mascara),a.placeholder=i18n(d.placeholder)}}}]),app.directive("inputNumber",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngChange:"&",ngBlur:"&"},require:"?ngModel",templateUrl:"public/resources/components/input-text.html",link:function(a,b,d,e){c.base(a,d),c.labelHint(d.labelHint,b),c.autofocus(d.autofocus,b,"input"),c.maxlength(d.maxlength,b,"input"),c.mask(a,"Integer"),a.placeholder=d.placeholder}}}]),app.directive("checkBox",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngModel:"=",ngDisabled:"=",ngRequired:"=",ngClick:"&"},require:"?ngModel",templateUrl:"public/resources/components/check-box.html",link:function(a,b,d,e){c.base(a,d),c.labelHint(d.labelHint,b),c.autofocus(d.autofocus,b,"input"),a.placeholder=d.placeholder}}}]),app.directive("comboBox",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngModel:"=",ngDisabled:"=",ngRequired:"=",options:"=",ngChange:"&",ngBlur:"&"},require:"?ngModel",templateUrl:"public/resources/components/combo-box.html",link:function(a,b,d,e){c.base(a,d),c.labelHint(d.labelHint,b),c.autofocus(d.autofocus,b,"select"),a.emptyMessage=d.emptyMessage,$.isEmptyObject(d.emptyMessage)&&(a.emptyMessage="select.default"),a.name="nome",$.isEmptyObject(d.name)||(a.name=d.name),a.selectValue=function(a){return $.isEmptyObject(d.value)?a:a[d.value]}}}}]),app.directive("baseButton",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngDisabled:"=",onClick:"&"},templateUrl:"public/resources/components/button.html",link:function(a,b,d,e){c.base(a,d),a["class"]=d["class"],a.icon=d.icon,a.hasIcon=function(){return!$.isEmptyObject(d.icon)}}}}]),app.directive("confirmButton",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",scope:{id:"=id",label:"=label",ngDisabled:"=",yesCallback:"&",noCallback:"&"},templateUrl:"public/resources/components/button.html",link:function(a,b,d,e){c.base(a,d),a["class"]=d["class"],a.icon=d.icon,a.hasIcon=function(){return!$.isEmptyObject(d.icon)},a.title=d.title,a.message=d.message,a.yes=d.yes,$.isEmptyObject(d.yes)&&(a.yes="fw.btn.yes"),a.yesTitle=d.yesTitle,$.isEmptyObject(d.yesTitle)&&(a.yesTitle="fw.btn.yes.tooltip"),a.no=d.no,$.isEmptyObject(d.no)&&(a.no="fw.btn.no"),a.noTitle=d.noTitle,$.isEmptyObject(d.noTitle)&&(a.noTitle="fw.btn.no.tooltip"),a.title=i18n(a.title),a.message=i18n(a.message),a.yes=i18n(a.yes),a.yesTitle=i18n(a.yesTitle),a.no=i18n(a.no),a.noTitle=i18n(a.noTitle),a.onClick=function(){confirmDialog(a.title,a.message,a.yes,a.yesTitle,a.yesCallback,a.no,a.noTitle,a.noCallback)}}}}]),app.directive("listButton",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",transclude:!0,scope:{"":"=",reset:"&",loadDependencies:"&",hasSelected:"&"},templateUrl:"public/resources/components/list-button.html",link:function(a,b,c,d){a.newRegister=function(){a.reset(),a.mode="EDIT_MODE",console.log("newRegister"),a.loadDependencies()},a.editRegister=function(){console.log("editRegister"),a.hasSelected()&&(a.reset(),a.mode="EDIT_MODE",this.loadDependencies())},a.deleteRegister=function(){console.log("deleteRegister"),!a.hasSelected()}}}}]),app.directive("panel",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",transclude:!0,scope:{"":"="},templateUrl:"public/resources/components/panel.html",link:function(a,b,c,d){a.panelTitle=i18n(c.panelTitle),a.panelClass=c.panelClass,a.icon=c.icon,a.hasIcon=function(){return!$.isEmptyObject(c.icon)}}}}]),app.directive("accordion",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",transclude:!0,scope:{"":"="},require:"?panelTitle",templateUrl:"public/resources/components/accordion.html",link:function(a,b,c,d){a.panelTitle=i18n(c.panelTitle),a.panelClass=c.panelClass,a.icon=c.icon,a.contentId=c.contentId,a.linkId="lk"+c.contentId,$.isEmptyObject(c.icon)&&(a.icon="glyphicon glyphicon-chevron-down")}}}]),app.directive("grid",["$compile","$parse","$http","baseInput",function(a,b,c,d){return{restrict:"E",transclude:!0,priority:1,scope:{list:"="},templateUrl:"public/resources/components/data-table.html",link:function(b,c,d,e,f){var g=$(c.children().children().children().children()[0]).children(),h=$(c.children().children().children().children()[1]).children(),i=function(a){for(var b=($(a).html(),a.children()),c="",d=0,e=b.length;e>d;d++){var f=b[d],g=$(f).wrap("<p/>").parent().html();$(f).unwrap(),c+="<td>"+g+"</td>"}h.append(c)},j=function(a,b){var c=b.replace(/<div/gi,"<td");a.append(c)},k=function(a){var b="<td";return $.isEmptyObject(a)||(b+=" class='"+a+"'"),b+=">"},l=function(a,b){var c=k(b),d="";$.isEmptyObject(a)||(d=i18n(a));var e="</td>";g.append(c+d+e)},m=function(a){for(var b=0,c=a.length;c>b;b++){var d=a[b],e=$(d).attr("label"),f=$(d).attr("class");l(e,f)}};f(b,function(a,b){for(var c=null,d=null,e=0,f=a.length;f>e;e++){var h=a[e];"TABLE-HEADER"==h.nodeName&&(c=$(h)),"TABLE-BODY"==h.nodeName&&(d=$(h))}$.isEmptyObject(c)?m(d.children()):j(g,$(c).html()),i(d)}),h.attr("ng-repeat","item in list"),a(g)(b),a(h)(b)}}}]),app.directive("column",["$parse","$http","baseInput",function(a,b,c){return{restrict:"E",transclude:!0,scope:{value:"=","class":"="},templateUrl:"public/resources/components/column.html",link:function(a,b,c,d){}}}]);